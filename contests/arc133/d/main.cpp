#include "autodp/template.hpp"
#include "autodp/matrix.hpp"
#include "autodp/string/naive.hpp"
template <class VTYPE>
VTYPE solve(const string& s) {
        vector<vector<VTYPE>>matP_ume={{1,1,0,1,0,0,0,2,1,1,0,0,0,0,0,1,0,0,0,0},{1,1,0,3,1,2,1,3,3,4,3,0,0,1,0,4,1,2,1,0},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0},{2,1,1,1,1,2,1,3,3,3,1,1,1,1,0,4,0,0,1,0},{1,3,1,4,2,3,2,6,7,9,8,2,1,4,2,9,2,3,3,0},{0,0,0,1,0,1,0,2,1,2,2,0,0,1,0,2,0,0,0,0},{3,4,2,7,4,6,4,8,13,16,15,6,4,9,6,16,3,4,5,0},{1,1,0,2,1,2,1,4,4,6,6,2,1,4,2,6,0,0,1,0},{2,1,1,2,2,3,2,3,5,5,2,3,3,2,1,5,2,3,3,3},{3,2,2,2,2,4,3,5,7,7,3,5,5,3,2,8,3,4,5,5},{2,2,1,2,1,2,2,3,4,4,2,1,1,0,0,5,2,3,3,0},{1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,2,0,0,1,0},{1,3,2,3,2,1,1,2,4,4,2,2,2,2,1,5,0,0,1,0},{1,4,3,5,4,2,2,2,7,7,3,5,5,3,2,8,3,4,5,5},{1,2,2,3,3,2,1,2,4,4,2,2,2,2,1,5,2,3,3,3},{3,2,2,2,2,4,3,5,7,7,3,5,5,3,2,8,0,0,3,0},{3,7,4,9,6,8,6,12,21,25,24,12,9,16,12,25,4,5,7,0},{1,2,1,4,2,4,2,6,9,12,12,6,4,9,6,12,0,0,2,0},{4,9,6,13,9,12,9,15,31,36,35,20,16,25,20,36,5,6,9,0},{3,2,2,3,3,5,4,5,9,9,4,7,7,4,3,9,4,5,7,7}};
        vector<vector<vector<VTYPE>>>mats_ume={{{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0},{0,-1,0,0,2,0,0,1,0,0,0,0,0,0,0,0,-2,0,1,0},{0,1,0,0,-1,0,-2,0,0,0,0,0,0,0,0,0,2,0,1,0},{0,0,0,0,1,-1,-1,1,0,0,0,0,0,0,0,0,-1,1,1,0},{0,2,0,0,-4,1,-1,-2,0,-1,0,0,0,1,0,0,6,1,-3,1},{0,3,0,-499122176,-4,0,0,-2,499122174,1,-2,0,-1,2,0,-499122176,6,0,-3,-499122176},{0,0,0,-499122176,-1,1,1,-1,499122176,0,0,0,-1,1,0,-499122176,2,-1,-1,499122176},{0,1,0,-499122176,-1,0,0,-1,499122176,0,-1,1,-1,1,0,-499122176,2,0,-1,499122176},{0,2,0,-1,-2,-1,1,0,-1,2,-2,0,1,0,0,1,2,-1,-1,-1},{0,5,0,-499122176,-8,0,0,-2,499122174,1,-2,0,-1,2,0,-499122176,10,0,-5,-499122176},{0,1,0,-1,-2,0,0,0,-1,1,0,0,2,-1,1,-1,2,0,-1,1},{0,3,0,-1,-4,0,0,-2,-1,0,-2,0,-1,2,0,3,6,0,-3,-1},{0,6,0,0,-8,0,-6,0,0,0,0,0,0,0,0,0,9,0,0,0},{0,3,0,0,-2,-2,-4,1,0,0,0,0,0,0,0,0,2,2,1,0},{0,12,0,0,-15,0,-12,0,0,0,0,0,0,0,0,0,16,0,0,0},{0,5,0,1,-8,1,-1,-4,-3,-1,-2,0,-2,3,0,1,12,1,-6,2}},{{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0},{0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,2,0,0,-2,-1,-2,0,0,0,0,0,0,0,0,0,2,2,0,0},{0,-1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,-2,1,1,0},{0,2,0,-499122176,-2,0,0,-2,499122176,1,-2,0,-1,1,0,-499122176,4,0,-2,499122176},{0,3,0,1,-2,-1,1,-2,-3,3,-4,0,-2,2,0,1,4,-1,-2,-1},{0,1,0,-499122176,-2,0,0,0,499122176,0,0,0,-1,1,0,-499122176,2,0,-1,499122176},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,0,0,0,-1,1,0,-1,2,-2,-1,0,0,0,1,0,-1,0,-1},{0,4,0,1,-4,-1,1,-2,-3,3,-4,0,-2,2,0,1,6,-1,-3,-1},{0,1,0,499122176,-2,0,0,0,499122176,1,0,-1,1,-1,1,499122176,2,0,-1,-499122176},{0,3,0,0,-4,0,0,-2,-1,0,-2,-1,-2,2,0,3,6,0,-3,-1},{0,7,0,0,-8,-2,-6,0,0,0,0,0,0,0,0,0,8,3,-1,0},{0,1,0,0,0,-1,-2,0,0,0,0,0,0,0,0,0,0,2,1,0},{0,14,0,0,-16,-3,-12,0,0,0,0,0,0,0,0,0,16,4,-2,0},{0,5,0,-499122175,-6,0,0,-4,499122173,1,-4,0,-3,3,0,-499122175,10,0,-5,-499122176}},{{0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0},{0,4,0,0,-6,0,-3,0,0,0,0,0,0,0,0,0,6,0,0,0},{0,2,0,0,-2,-1,-2,0,0,0,0,0,0,0,0,0,2,2,0,0},{0,2,0,0,-3,0,0,-1,-1,0,-1,0,0,1,0,0,4,0,-2,1},{0,3,0,1,-4,0,0,-2,-3,0,-2,0,-2,3,0,1,6,0,-3,1},{0,-1,0,1,-1,2,1,-1,0,-2,1,0,-2,2,0,1,2,-1,-1,0},{0,2,0,-499122175,-2,0,0,-2,499122176,0,-2,1,-3,3,-1,-499122175,4,0,-2,499122175},{0,2,0,0,-2,-1,1,0,-2,2,-2,0,0,1,0,0,2,-1,-1,0},{0,6,0,1,-10,0,0,-2,-3,0,-2,0,-2,3,0,1,12,0,-6,1},{0,2,0,0,-2,-1,1,0,-2,2,-2,0,0,1,0,0,2,-1,-1,0},{0,3,0,1,-4,0,0,-2,-3,0,-2,0,-2,3,0,1,6,0,-3,1},{0,9,0,0,-12,0,-8,0,0,0,0,0,0,0,0,0,12,0,0,0},{0,7,0,0,-8,-2,-6,0,0,0,0,0,0,0,0,0,8,3,-1,0},{0,18,0,0,-24,0,-15,0,0,0,0,0,0,0,0,0,24,0,-2,0},{0,5,0,1,-7,0,0,-3,-4,0,-3,0,-2,3,0,1,10,0,-5,2}},{{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0},{0,1,0,0,-1,-1,-1,1,0,0,0,0,0,0,0,0,1,1,0,0},{0,-1,0,0,2,0,0,1,0,0,0,0,0,0,0,0,-2,0,1,0},{0,5,0,0,-6,-2,-4,1,0,0,0,0,0,0,0,0,6,2,-1,0},{0,0,0,0,1,-1,-1,1,0,0,0,0,0,0,0,0,-1,1,1,0},{0,2,0,-499122176,-1,-1,1,-1,499122175,2,-3,0,-1,1,0,-499122176,2,-1,-1,499122176},{0,3,0,-499122175,-2,-1,1,-2,499122173,2,-4,0,-3,3,0,-499122175,4,-1,-2,499122176},{0,2,0,1,-5,1,-1,-1,0,-2,1,0,-2,2,0,1,6,1,-3,0},{0,1,0,-499122176,-1,0,0,-1,499122176,0,-1,1,-1,1,0,-499122176,2,0,-1,499122176},{0,1,0,0,0,-1,1,0,-2,2,-2,0,0,0,1,0,0,-1,0,0},{0,5,0,-499122175,-6,-1,1,-2,499122173,2,-4,0,-3,3,0,-499122175,8,-1,-4,499122176},{0,2,0,0,-2,-1,1,0,-2,2,-2,0,0,0,1,0,2,-1,-1,0},{0,3,0,1,-4,0,0,-2,-3,0,-2,0,-2,2,1,1,6,0,-3,1},{0,11,0,0,-13,-3,-9,1,0,0,0,0,0,0,0,0,13,3,-2,0},{0,3,0,0,-2,-2,-4,1,0,0,0,0,0,0,0,0,2,2,1,0},{0,20,0,0,-24,-4,-16,1,0,0,0,0,0,0,0,0,24,4,-4,0},{0,5,0,-499122175,-5,-1,1,-3,499122172,2,-5,0,-3,3,0,-499122175,8,-1,-4,-499122176}},{{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,-1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},{0,1,0,-499122176,-1,0,0,-1,-499122176,0,-1,1,-1,1,-1,-499122176,2,0,-1,499122176},{0,2,0,0,-4,0,0,0,-1,0,0,0,0,0,0,0,4,0,-2,2},{0,1,0,-499122176,-3,1,-1,-1,-499122175,-2,1,1,-1,1,-1,-499122176,4,1,-2,-499122176},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},{0,-1,0,0,3,-1,1,1,-2,2,-1,0,0,0,0,0,-4,-1,2,1},{0,-2,0,499122176,4,-1,1,2,499122175,2,0,-1,1,-1,1,499122176,-6,-1,3,-499122176},{0,-1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,-2,0,1,0},{0,-1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,-2,0,1,0},{0,-3,0,0,7,-1,1,1,-2,2,-1,0,0,0,0,0,-8,-1,4,1},{0,-2,0,499122176,4,-1,1,2,499122175,2,0,-1,1,-1,1,499122176,-6,-1,3,-499122176},{0,0,0,0,-5,2,-2,1,2,-4,5,0,0,0,0,0,4,2,-2,2},{0,3,0,0,-6,0,0,0,-2,0,0,0,0,0,0,0,6,0,-3,3},{0,2,0,-499122176,-7,2,-2,-1,-499122174,-4,3,1,-1,1,-1,-499122176,8,2,-4,-499122175},{0,6,0,0,-12,0,0,0,-3,0,0,0,0,0,0,0,12,0,-6,4},{0,0,0,0,0,0,0,0,-2,0,0,0,0,0,0,0,0,0,0,3}},{{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0},{0,-1,0,0,0,1,0,0,1,-2,2,0,0,0,0,0,0,0,0,1},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,-2,0,0,-2,3,0,0,2,-4,4,0,0,0,0,0,2,0,-1,2},{0,0,0,0,-2,1,-1,0,1,-2,2,0,0,0,0,0,2,1,-1,1},{0,-1,0,-1,1,0,0,1,1,0,1,0,2,-1,0,-1,-2,0,1,1},{0,-2,0,-1,4,-1,1,2,-1,2,0,0,2,-1,0,-1,-6,-1,3,1},{0,-2,0,0,3,0,1,1,0,0,1,0,0,0,0,0,-4,-1,2,0},{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0},{0,-3,0,-1,6,-1,1,2,-1,2,0,0,2,-1,0,-1,-8,-1,4,1},{0,-3,0,499122175,4,0,0,2,-499122176,0,2,0,3,-2,1,499122175,-6,0,3,-499122175},{0,0,0,0,-4,2,-2,0,2,-4,4,1,0,0,0,0,4,2,-2,2},{0,-3,0,0,-4,5,0,0,3,-6,6,0,0,0,0,0,4,0,-2,3},{0,0,0,0,-4,2,-2,0,2,-4,4,0,0,0,0,0,4,2,-2,2},{0,-3,0,0,-8,7,0,0,4,-8,8,0,0,0,0,0,8,0,-4,4},{0,-1,0,-1,1,0,0,1,-1,0,1,0,2,-1,0,-1,-2,0,1,3}},{{0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},{0,2,0,0,-4,0,0,0,-1,1,0,0,0,0,0,0,4,0,-2,1},{0,0,0,-499122176,0,0,0,0,-499122176,0,0,1,-1,1,-1,-499122176,0,0,0,499122176},{0,3,0,0,-6,0,0,0,-2,1,0,0,0,0,0,0,6,0,-3,2},{0,1,0,-499122176,-4,1,-1,0,-499122175,-2,2,1,-1,1,-1,-499122176,4,1,-2,-499122176},{0,1,0,0,-1,0,0,-1,-1,1,-1,0,0,0,0,0,2,0,-1,1},{0,0,0,0,0,0,0,0,-2,1,0,0,0,0,0,0,0,0,0,2},{0,-1,0,499122176,1,0,0,1,499122175,1,1,-1,1,-1,1,499122176,-2,0,1,-499122175},{0,-1,0,0,0,1,-1,0,1,-2,2,1,0,0,0,0,0,1,0,1},{0,-1,0,-1,4,-1,1,0,-1,2,-2,0,0,0,0,2,-4,-1,2,-1},{0,-3,0,0,6,0,0,0,-2,1,0,0,0,0,0,0,-6,0,3,2},{0,-1,0,499122176,2,0,0,0,499122175,1,0,0,1,-1,1,499122176,-2,0,1,-499122175},{0,0,0,-2,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0},{0,6,0,0,-12,0,0,0,-3,1,0,0,0,0,0,0,12,0,-6,3},{0,2,0,-499122176,-8,2,-2,0,-499122174,-4,4,1,-1,1,-1,-499122176,8,2,-4,-499122175},{0,8,0,0,-16,0,0,0,-4,1,0,0,0,0,0,0,16,0,-8,4},{0,1,0,0,-1,0,0,-1,-3,1,-1,0,0,0,0,0,2,0,-1,3}},{{1,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,1,0,0,0,1,0,-1,0,0,0,0,0},{0,-1,0,0,-2,2,0,0,1,-2,3,0,0,0,0,0,2,0,-1,1},{0,-1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,-2,0,1,0},{0,-2,0,0,-4,4,0,0,2,-4,5,0,0,0,0,0,4,0,-2,2},{0,-1,0,0,-1,1,-1,1,1,-2,3,0,0,0,0,0,0,1,0,1},{0,0,0,-1,0,0,0,0,0,1,0,0,2,-1,0,-1,0,0,0,1},{0,-1,0,-1,1,0,0,1,-1,1,1,0,2,-1,0,-1,-2,0,1,2},{0,-2,0,0,0,2,0,0,1,-2,3,0,0,0,0,0,0,0,0,1},{0,1,0,-499122176,-1,0,0,-1,-499122176,0,-1,1,-1,1,-1,-499122176,2,0,-1,499122176},{0,0,0,-1,2,-1,1,0,0,2,-2,0,1,0,-1,1,-2,-1,1,-1},{0,-3,0,-1,5,0,0,1,-1,1,1,0,2,-1,0,-1,-6,0,3,2},{0,-1,0,-1,2,0,0,0,0,1,0,0,2,-1,0,-1,-2,0,1,1},{0,0,0,-2,0,0,0,0,1,0,0,0,1,0,-1,2,0,0,0,0},{0,-2,0,0,-8,6,0,0,3,-6,7,0,0,0,0,0,8,0,-4,3},{0,0,0,0,-5,2,-2,1,2,-4,5,0,0,0,0,0,4,2,-2,2},{0,-2,0,0,-12,8,0,0,4,-8,9,0,0,0,0,0,12,0,-6,4},{0,0,0,-1,0,0,0,0,-2,1,0,0,2,-1,0,-1,0,0,0,3}}};
        int R = sz(matP_ume);
        int K = sz(mats_ume);
        Matrix<VTYPE> matP(matP_ume);
        vector<Matrix<VTYPE>> mats(K);
        rep(k, K) mats[k] = Matrix<VTYPE>(mats_ume[k]);
        Matrix<VTYPE> mat(R);
        repe(c, s) mat = mat * mats[c - '0'];
        mat = mat * matP;
        return mat[0][0];
}

int main() {
    long long l, r, v; cin >> l >> r >> v;
    string L = bitset<60>(l).to_string();
    string R = bitset<60>(r).to_string();
    string V = bitset<60>(v).to_string();
    string s;
    for (int i=0; i<60; i++) s += '0' + ((L[i]-'0')+(R[i]-'0')*2+(V[i]-'0')*4);
    cout << solve<mint>(s) << '\n';
}